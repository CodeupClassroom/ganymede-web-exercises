<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mapbox Lecture</title>

    <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />

    <style>
        #map {
            width: 100%;
            height: 600px;
        }
    </style>

</head>
<body>


    <div id='map'></div>

    <script src="js/keys.js"></script>
    <script>

        mapboxgl.accessToken = mapboxKey;

        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v9',
            zoom: 15,
            // center: [-98.4916, 29.4252]
            center: {lng: -98.4916, lat: 29.4252}
        });

        // customizing the map

            // map.setCenter()
            // map.setZoom()

        // markers

        var marker = new mapboxgl.Marker();

        // marker.setLngLat({lng: -98.4916, lat: 29.4252});
        // marker.addTo(map);

        marker
            .setLngLat({lng: -98.4916, lat: 29.4252})
            .addTo(map);

        // popups

        var popup = new mapboxgl.Popup();

        popup.setHTML('<h1>San Antonio!</h1>');

        marker.setPopup(popup);

        // events

        marker.on('dragend', function() {
            console.log('hello');
        });

        // geocode reverse geocode


        // the geocode method from mapbox-geocoder-utils.js
        geocode("600 Navarro St #350, San Antonio, TX 78205", accessToken).then(function(result) {
            console.log(result);
            map.setCenter(result);
            map.setZoom(20);
        });

        // reverse geocode method from mapbox-geocoder-utils.js
        reverseGeocode({lng: -98.4861, lat: 29.4260}, accessToken).then(function(results) {
            console.log(results);
        });



    </script>


</body>
</html>